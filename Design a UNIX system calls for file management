#include <stdio.h>
#include <fcntl.h>
#include <unistd.h>
#include <string.h>

int main() {
    int fd;
    char data[50], buffer[50];
    int bytes;

    // Create and write to file
    fd = open("sample.txt", O_CREAT | O_WRONLY | O_TRUNC, 0644);

    printf("Enter data to write into file: ");
    scanf("%s", data);

    bytes = write(fd, data, strlen(data));
    close(fd);

    // Read from file
    fd = open("sample.txt", O_RDONLY);
    bytes = read(fd, buffer, bytes);
    buffer[bytes] = '\0';   // IMPORTANT
    close(fd);

    printf("Data read from file: %s\n", buffer);

    return 0;
}
